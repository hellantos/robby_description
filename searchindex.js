Search.setIndex({"docnames": ["creating-bus-configuration", "creating-control-configuration", "creating-launch-files", "creating-package", "creating-robot-arm", "creating-xacro", "index", "prerequisites"], "filenames": ["creating-bus-configuration.rst", "creating-control-configuration.rst", "creating-launch-files.rst", "creating-package.rst", "creating-robot-arm.rst", "creating-xacro.rst", "index.rst", "prerequisites.rst"], "titles": ["ROS 2 CANopen bus configuration", "ROS 2 control configuration", "ROS 2 launch files", "ROS 2 configuration package", "ROS2 creating a robot arm", "ROS 2 robot description", "Building Robby", "Preparing the system"], "terms": {"The": [0, 1, 2, 3, 4, 5], "consist": 0, "multipl": 0, "file": [0, 1, 3, 5, 6], "we": [0, 1, 2, 3, 4, 5, 7], "have": [0, 1, 2, 3, 4, 5, 7], "provid": [0, 1], "creat": [0, 1, 2, 5, 6, 7], "devic": [0, 1, 3], "descript": [0, 2, 3, 6], "ed": [0, 2], "dcf": [0, 1, 4], "ar": [0, 1, 2, 3, 4, 5], "usual": 0, "manufactur": 0, "you": [0, 2, 3, 4, 5], "bui": 0, "drive": [0, 4, 5, 7], "make": [0, 4, 5], "sure": 0, "cia402": [0, 4], "interfac": [0, 2, 3, 4], "otherwis": [0, 1], "stack": [0, 3, 7], "abl": [0, 2, 5], "us": [0, 1, 2, 3, 4, 5, 7], "i": [0, 1, 2, 3, 4, 5, 7], "describ": [0, 3, 5], "your": [0, 2, 3, 4, 5], "robot": [0, 1, 2, 3, 6, 7], "It": [0, 1, 5], "contain": [0, 3], "connect": [0, 5], "detail": 0, "about": [0, 1, 5], "how": [0, 3], "control": [0, 3, 5, 6], "them": [0, 3], "well": [0, 5], "further": 0, "configuraiton": 0, "option": [0, 4], "our": [0, 1, 2, 5, 7], "first": [0, 1, 2, 3, 5, 7], "step": [0, 1, 3, 5], "config": [0, 1, 2], "folder": [0, 1, 5], "packag": [0, 1, 2, 4, 5, 6], "cd": [0, 5, 7], "ros2_w": [0, 2, 5, 7], "src": [0, 3, 5, 7], "my_robot_descript": [0, 2, 3, 5], "mkdir": [0, 2, 5, 7], "p": [0, 7], "robbi": [0, 1, 2, 5], "Then": [0, 2, 5], "go": [0, 3], "copi": [0, 2, 5], "cp": [0, 5], "robby_descript": [0, 1, 2, 5, 7], "tmcm": [0, 2], "1270": [0, 2], "next": [0, 1, 5, 7], "thi": [0, 1, 2, 3, 4, 5, 7], "yaml": [0, 1, 2], "need": [0, 1, 2, 3, 4, 5, 7], "call": [0, 1, 2], "yml": [0, 1], "place": 0, "touch": [0, 1, 5], "simpl": [0, 2, 5, 7], "master": [0, 1, 2, 4, 7], "id": [0, 4], "1": [0, 1, 2, 4, 5], "an": [0, 3, 4, 5], "two": 0, "left": [0, 5], "3": [0, 2, 4, 5], "right": [0, 5], "node_id": [0, 2, 4], "node": [0, 2, 4], "left_driv": [0, 1, 2], "right_driv": [0, 1, 2], "now": [0, 1, 2, 3, 5, 7], "defin": [0, 1, 4], "driver": [0, 4], "should": [0, 2, 4, 5], "standard": 0, "ros2_canopen": [0, 4, 7], "masterdriv": [0, 4], "canopen_master_driv": [0, 4], "default": [0, 1, 4], "cia402driv": [0, 4], "canopen_402_driv": [0, 4], "can": [0, 1, 2, 3, 4, 5, 7], "add": [0, 1, 2, 3, 4, 5], "As": [0, 3], "compil": 0, "time": [0, 4, 5], "machin": 0, "readabl": 0, "path": [0, 1, 7], "dcf_path": [0, 4], "bus_config_path": [0, 4], "bit": 0, "more": [0, 1], "basic": [0, 2], "want": [0, 2], "run": [0, 2, 4, 5], "frequenc": 0, "50": [0, 1, 4], "hz": [0, 1, 4], "profil": 0, "posit": [0, 1, 4], "mode": [0, 4], "veloc": [0, 1, 2, 4], "poll": 0, "true": [0, 1, 2, 4], "period": [0, 2, 4], "20": 0, "position_mod": [0, 4], "velocity_mod": 0, "do": [0, 2, 4, 5, 7], "some": 0, "specif": 0, "base": [0, 4, 5], "execut": [0, 2], "dure": 0, "startup": 0, "preop": 0, "state": [0, 1, 2, 4], "heartbeat_produc": [0, 4], "1000": [0, 2, 4], "heartbeat": 0, "everi": 0, "m": [0, 4], "sdo": [0, 4], "index": [0, 4, 6], "0x2000": 0, "sub_index": [0, 4], "0": [0, 1, 2, 3, 4, 5], "valu": [0, 1, 4], "microstep": 0, "resolut": 0, "8": [0, 4], "per": 0, "0x6081": [0, 4], "1600": 0, "set": [0, 2, 3, 4], "0x6083": 0, "16000": 0, "acceler": [0, 1], "deceler": 0, "0x6085": 0, "quickstop": 0, "For": [0, 1], "work": [0, 4], "effici": 0, "pdo": 0, "At": 0, "least": 0, "follfow": 0, "object": 0, "map": [0, 4], "activ": [0, 4], "subindex": 0, "name": [0, 1, 2, 4, 5], "size": 0, "0x6040": [0, 4], "controlword": [0, 4], "16": 0, "0x6060": [0, 4], "oper": [0, 4], "0x607a": [0, 4], "target": [0, 4], "32": 0, "0x60ff": 0, "0x6041": [0, 4], "statusword": [0, 4], "0x6061": [0, 4], "displai": [0, 4, 5], "0x6064": [0, 4], "actual": [0, 1, 4], "0x606c": [0, 4], "sent": 0, "sync": 0, "messag": 0, "issu": 0, "sync_period": [0, 4], "20000": 0, "tpdo": [0, 4], "enabl": [0, 1, 4], "transmiss": [0, 4], "0x01": [0, 4], "statu": [0, 4], "word": [0, 4], "fals": [0, 1, 2, 4], "4": [0, 4], "rpdo": [0, 4], "stepper": 0, "motor": 0, "200": 0, "revolut": 0, "mean": [0, 2], "unit": 0, "convert": 0, "radian": 0, "To": [0, 2, 4, 5], "x": [0, 1], "pi": 0, "254": 0, "64": 0, "from": [0, 2, 5, 7], "00392": 0, "In": [0, 2, 3, 4, 5, 7], "addit": [0, 4], "wheel": [0, 1, 2, 5], "turn": [0, 5], "opposit": 0, "direct": [0, 2], "adjust": 0, "pass": [0, 5], "scale": 0, "factor": 0, "scale_pos_from_dev": [0, 4], "003926991": 0, "scale_pos_to_dev": [0, 4], "647897079": 0, "scale_vel_from_dev": 0, "scale_vel_to_dev": 0, "complet": 0, "tell": [0, 1, 2, 5], "build": [0, 2, 3, 5, 7], "system": [0, 2, 4, 5, 6], "cmakelist": [0, 2, 3], "txt": [0, 2, 3], "follow": [0, 1, 2, 3, 4, 5], "line": [0, 1, 2, 5], "after": [0, 2, 5], "find_packag": [0, 5], "cogen_dcf": 0, "so": [1, 5], "tool": 1, "done": [1, 3], "anoth": [1, 2, 5], "xacro": [1, 2, 4, 5], "new": [1, 2, 7], "urdf": [1, 2, 5], "past": [1, 2], "content": [1, 2, 3], "xml": [1, 3, 4, 5], "version": [1, 4, 5], "xmln": [1, 4, 5], "http": [1, 4, 5, 7], "www": [1, 4, 5], "org": [1, 4, 5], "wiki": [1, 4, 5], "macro": [1, 4, 5], "robby_control": 1, "param": [1, 4, 5], "prefix": [1, 4, 5], "use_mock_hardwar": [1, 2], "bus_config": [1, 4], "master_config": [1, 4], "can_interface_nam": [1, 2, 4], "master_bin": [1, 4], "type": [1, 2, 3, 4, 5], "unless": 1, "hardwar": [1, 2, 3, 4], "plugin": [1, 2, 4], "canopen_ros2_control": [1, 4], "robotsystem": [1, 4], "mock_compon": [1, 2], "genericsystem": [1, 2], "calculate_dynam": 1, "joint": [1, 2, 4, 5], "left_wheel_joint": [1, 5], "command_interfac": [1, 4], "device_nam": [1, 4], "state_interfac": [1, 4], "right_wheel_joint": [1, 5], "let": [1, 5], "": [1, 5], "check": 1, "paramet": [1, 2, 5], "bu": [1, 2, 3, 5, 6], "gener": 1, "binari": 1, "u": 1, "mock": 1, "level": [1, 2], "here": 1, "which": [1, 4], "canopen": [1, 2, 3, 4, 5, 6, 7], "find": [1, 2, 5], "includ": [1, 2, 3, 5], "test_robot": 1, "arg": [1, 2], "vcan0": [1, 2, 4], "filenam": [1, 5], "link": [1, 2, 4, 5], "world": [1, 5], "parent": [1, 5], "origin": [1, 5], "xyz": [1, 5], "014": [1, 5], "rpy": [1, 5], "57": [1, 5], "joint_state_broadcast": [1, 2, 3, 4], "publish": 1, "joint_stat": 1, "topic": [1, 2], "also": [1, 2, 4], "forward_command_control": [1, 3, 4], "diff_drive_control": [1, 2, 3], "therefor": [1, 2, 5], "controller_manag": [1, 2, 3, 4], "ros__paramet": [1, 4], "update_r": [1, 4], "jointstatebroadcast": [1, 4], "robby_base_control": [1, 2], "diffdrivecontrol": 1, "robby_forward_control": [1, 2], "forwardcommandcontrol": [1, 4], "straight": 1, "forward": 1, "left_wheel": 1, "right_wheel": 1, "interface_nam": [1, 4], "complex": 1, "mani": 1, "thing": 1, "left_wheel_nam": 1, "right_wheel_nam": 1, "wheel_separ": 1, "24": 1, "wheels_per_sid": 1, "both": [1, 2], "signal": 1, "wheel_radiu": 1, "035": 1, "wheel_separation_multipli": 1, "left_wheel_radius_multipli": 1, "right_wheel_radius_multipli": 1, "publish_r": 1, "odom_frame_id": 1, "base_frame_id": 1, "base_link": [1, 5], "pose_covariance_diagon": 1, "001": 1, "01": [1, 4], "twist_covariance_diagon": 1, "open_loop": 1, "enable_odom_tf": 1, "cmd_vel_timeout": 1, "5": [1, 4], "publish_limited_veloc": 1, "use_stamped_vel": 1, "velocity_rolling_window_s": 1, "10": [1, 2, 4], "limit": [1, 4], "whenev": 1, "min_": 1, "unspecifi": 1, "max_": 1, "linear": 1, "has_velocity_limit": 1, "has_acceleration_limit": [1, 4], "has_jerk_limit": 1, "max_veloc": 1, "min_veloc": 1, "max_acceler": [1, 4], "max_jerk": 1, "min_jerk": 1, "angular": 1, "z": 1, "min_acceler": 1, "onli": [1, 2], "write": [1, 2], "launch": [1, 3, 5, 6], "three": [2, 5], "fake": [2, 4], "real": 2, "diff": 2, "directori": [2, 3, 5], "instal": [2, 4, 5, 7], "section": 2, "start": [2, 3], "veri": [2, 5], "rviz": [2, 4, 5], "robot_state_publish": [2, 3], "trick": 2, "control_simul": 2, "py": [2, 4, 5], "import": [2, 5], "launchdescript": 2, "action": 2, "declarelaunchargu": 2, "registereventhandl": 2, "condit": 2, "ifcondit": 2, "event_handl": 2, "onprocessexit": 2, "substitut": 2, "command": [2, 3, 4, 5], "findexecut": 2, "pathjoinsubstitut": 2, "launchconfigur": 2, "launch_ro": 2, "findpackageshar": 2, "def": 2, "generate_launch_descript": 2, "declar": 2, "argument": 2, "declared_argu": 2, "initi": 2, "gui": 2, "load": 2, "robot_description_cont": 2, "robot_descript": 2, "configur": [2, 5, 6], "robot_control": 2, "ros2_control": [2, 4], "control_nod": 2, "ros2_control_nod": 2, "output": 2, "robot_state_pub_nod": 2, "remap": 2, "cmd_vel_unstamp": 2, "cmd_vel": 2, "rviz_nod": 2, "rviz2": [2, 3], "log": 2, "spawn": 2, "broadcast": 2, "joint_state_broadcaster_spawn": 2, "spawner": 2, "manag": 2, "robot_controller_spawn": 2, "delai": 2, "delay_rviz_after_joint_state_broadcaster_spawn": 2, "target_act": 2, "on_exit": 2, "delay_robot_controller_spawner_after_joint_state_broadcaster_spawn": 2, "keyboard_teleop": 2, "return": 2, "colcon": [2, 5, 7], "select": [2, 5], "ros2": [2, 3, 5, 6], "open": 2, "termin": [2, 4], "sourc": [2, 5, 7], "workspac": [2, 5, 7], "opt": [2, 7], "roll": [2, 4, 7], "setup": [2, 4, 5, 7], "bash": [2, 4, 7], "keyboard": 2, "teleop_twist_keyboard": 2, "see": [2, 4], "move": [2, 4], "howev": 2, "doe": 2, "commun": [2, 4], "help": 2, "valid": 2, "either": 2, "slave": 2, "device_contain": 2, "fake_left_dr": 2, "fake_right_dr": 2, "code": 2, "forward_control": 2, "timeract": 2, "includelaunchdescript": 2, "launch_description_sourc": 2, "pythonlaunchdescriptionsourc": 2, "unlesscondit": 2, "arg_use_real_hardwar": 2, "use_real_hardwar": 2, "default_valu": 2, "arg_can_interface_nam": 2, "robot_control_config": 2, "screen": 2, "robot_state_publisher_nod": 2, "slave_config": 2, "slave_launch": 2, "canopen_fake_slav": 2, "cia402_slav": 2, "slave_node_1": 2, "launch_argu": 2, "node_nam": 2, "item": 2, "slave_node_2": 2, "handl": 2, "sequenc": 2, "delay_master_launch": 2, "delay_slave_launch": 2, "nodes_to_start": 2, "If": 2, "virtual": 2, "sudo": [2, 4], "modprob": [2, 4], "vcan": [2, 4], "ip": [2, 4], "dev": [2, 4], "txqueuelen": [2, 4], "up": [2, 4], "forward_command": 2, "send": 2, "pub": 2, "std_msg": 2, "msg": 2, "float64multiarrai": 2, "data": [2, 4], "order": [2, 3, 7], "diff_driv": 2, "chang": 2, "cang": 2, "all": [2, 3, 7], "r": [2, 3, 7], "requir": [3, 4], "necessari": 3, "chapter": [3, 4, 5], "teach": 3, "explain": 3, "individu": 3, "pkg": 3, "ament_cmak": 3, "depend": 3, "lely_core_librari": 3, "licens": 3, "apach": 3, "remov": 3, "rm": 3, "did": 3, "extens": 3, "analysi": 3, "discov": 3, "miss": 3, "ones": 3, "previou": 4, "easili": 4, "possibl": 4, "discuss": 4, "exampl": 4, "prbt": 4, "ha": 4, "six": 4, "axi": [4, 5], "via": 4, "same": 4, "look": [4, 5], "like": [4, 5], "joint_1": 4, "joint_2": 4, "joint_3": 4, "6": 4, "joint_4": 4, "7": 4, "joint_5": 4, "joint_6": 4, "interpol": 4, "10000": 4, "prbt_0_1": 4, "enable_lazy_load": 4, "switching_st": 4, "2": [4, 6, 7], "switch": 4, "00001745329252": 4, "57295": 4, "7795131": 4, "0x60c2": 4, "15": 4, "match": 4, "cob_id": 4, "auto": 4, "operaiton": 4, "0x60c1": 4, "prbt_joint_1": 4, "prbt_joint_2": 4, "prbt_joint_3": 4, "prbt_joint_4": 4, "prbt_joint_5": 4, "prbt_joint_6": 4, "ros2_rontol": 4, "ro": [4, 6, 7], "prbt_ros2_control": 4, "100": 4, "forward_position_control": 4, "arm_control": 4, "joint_trajectory_control": 4, "jointtrajectorycontrol": 4, "stop_trajectory_dur": 4, "state_publish_r": 4, "action_monitor_r": 4, "goal_tim": 4, "constraint": 4, "stopped_velocity_toler": 4, "05": [4, 5], "trajectori": 4, "157": 4, "goal": 4, "alreadi": 4, "prepar": [4, 6], "follw": 4, "prbt_robot_support": 4, "prbt_fake_slav": 4, "prbt_robot_moveit_config": 4, "switch_control": 4, "deactiv": 4, "case": [4, 5], "error": 4, "apt": 4, "ros2controlcli": 4, "onc": 4, "ran": 4, "list_control": 4, "current": 4, "No": 4, "moveit": 4, "emul": 4, "candump": 4, "experi": 5, "differenti": [5, 7], "caster": 5, "scrap": 5, "model": 5, "That": 5, "end": 5, "mesh": 5, "over": 5, "class": [5, 7], "empti": 5, "thei": 5, "continu": 5, "fix": 5, "transform": 5, "left_wheel_link": 5, "right_wheel_link": 5, "base_joint": 5, "insert_block": 5, "child": 5, "tree": 5, "visual": 5, "due": 5, "wai": 5, "compon": 5, "coupl": 5, "geometri": 5, "dae": 5, "14": 5, "12": 5, "021": 5, "locat": 5, "respect": 5, "wwith": 5, "repres": 5, "instanti": 5, "final": 5, "cmake": 5, "routin": 5, "destin": 5, "share": 5, "project_nam": 5, "clone": [5, 7], "urdf_launch": 5, "github": [5, 7], "com": [5, 7], "git": [5, 7], "urdf_packag": 5, "urdf_package_path": 5, "arm": 6, "modul": 6, "search": 6, "page": 6, "mobil": 7, "project": 7, "industri": 7, "ipa": 7, "cmh": 7, "prbt_robot": 7, "rosdep": 7, "updat": 7, "ignor": 7, "y": 7}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"ro": [0, 1, 2, 3, 5], "2": [0, 1, 2, 3, 5], "canopen": 0, "bu": [0, 4], "configur": [0, 1, 3, 4], "control": [1, 2, 4], "system": [1, 7], "interfac": 1, "ros2_control": 1, "launch": [2, 4], "file": [2, 4], "simul": 2, "forward": 2, "differenti": 2, "drive": 2, "packag": 3, "creat": [3, 4], "new": 3, "ros2": 4, "robot": [4, 5], "arm": 4, "descript": 5, "build": 6, "robbi": 6, "content": 6, "indic": 6, "tabl": 6, "prepar": 7}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"ROS 2 CANopen bus configuration": [[0, "ros-2-canopen-bus-configuration"]], "ROS 2 control configuration": [[1, "ros-2-control-configuration"]], "System interface (ros2_control)": [[1, "system-interface-ros2-control"]], "Controllers": [[1, "controllers"]], "ROS 2 launch files": [[2, "ros-2-launch-files"]], "Launch control simulation": [[2, "launch-control-simulation"]], "Launch forward controller": [[2, "launch-forward-controller"]], "Launch differential drive controller": [[2, "launch-differential-drive-controller"]], "ROS 2 configuration package": [[3, "ros-2-configuration-package"]], "Creating a new package": [[3, "creating-a-new-package"]], "ROS2 creating a robot arm": [[4, "ros2-creating-a-robot-arm"]], "Bus configuration": [[4, "bus-configuration"]], "Control configuration": [[4, "control-configuration"]], "Launch files": [[4, "launch-files"]], "ROS 2 robot description": [[5, "ros-2-robot-description"]], "Building Robby": [[6, "building-robby"]], "Contents:": [[6, null]], "Indices and tables": [[6, "indices-and-tables"]], "Preparing the system": [[7, "preparing-the-system"]]}, "indexentries": {}})